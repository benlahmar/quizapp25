<div class="container exp">
    <div class="row" appBackcolor="green">
      
        <div class="col-md-12">
           <app-config [data]="data.config"></app-config>
        </div>
    </div>
    <hr/>
     <div class="row">
         <div class="col-md-12">
        <button type="button" class="btn btn-success" (click)="changemode('quiz')">Quiz</button>
        <button type="button" class="btn btn-danger" (click)="changemode('review')" [hidden]="!data.config.allowReview">Review</button>
        <button type="button" class="btn btn-warning" (click)="changemode('submit')">Submit</button>
        </div>
        </div>
        <h1>Bienvenu au quiz  {{theme}}</h1>
        <p>{{aa}}</p>
        @if(mode=='review'){
  <div class="row" >
        <div class="col-md-12" > 
            {{data | quiz:'select' }}
            </div>
            </div>
        }
    <div class="row" [hidden]="mode!=='quiz'">
        <div class="col-md-12"> 
            @if (data.config.showClock) {              
       <h6>{{date | date:'HH:mm:ss'}}</h6>
       <p>**** {{diffmin}}</p>
            }
<button type="button" class="btn btn-lg btn-outline-primary  position-relative">
  <h1>{{data.name}}</h1>
  <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
    {{data.questions.length}}
    <span class="visually-hidden">unread messages</span>
  </span>
</button>
        <p>{{data.description}}</p>
        @for (q of data.questions; track $index) {       
            @if($index==page){
            <app-question [qst]="q" [mode]="'quiz'"></app-question>
            }
        }
        <app-pagination [total]="data.questions.length" (notif)="recuperer($event)"></app-pagination>
</div>
</div>
  <div class="row" [hidden]="mode!=='review'">
        <div class="col-md-12">                
        <h1>{{data.name}}</h1>
        <p>{{data.description}}</p>
        @for (q of data.questions; track $index) {       
          
            <app-question [qst]="q" [mode]="'review'"></app-question>
            
        }
</div>
</div>
@if (mode=='submit') {
        <div class="row" >
        <div class="col-md-12">                
        <h1>{{data.name}}</h1>
      
        <p>Votre score est :  {{data | score}}</p>
        @for (q of data.questions; track $index) {       
          
            <app-question [qst]="q" [mode]="'submit'"></app-question>
            
        }
       </div>
</div>
}
      